   10 REM > MAGIC
   20 
   30 MODE31:@%=4:INPUT"ORDER="O%:K%=O%DIV2:PRINT
   40 DIM A%(O%,O%)
   50 REPEAT:DX%=(RND(K%)+1):DY%=(RND(K%)+1):UNTILDX%<>DY%
   60 FORM%=1TOO%
   70 REPEAT:X%=RND(O%):Y%=RND(O%):UNTILA%(X%,Y%)=0
   80 FORN%=1TOO%:A%(X%,Y%)=M%:X%=(X%+DX%)MODO%+1:Y%=(Y%+DY%)MODO%+1:NEXT,
   90 FORI%=1TOO%:FORJ%=1TOO%:PRINTA%(J%,I%)+O%*(A%(I%,J%)-1);:NEXT:PRINT':NEXT
